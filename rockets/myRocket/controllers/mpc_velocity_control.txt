# MPC Controller Configuration
# Model Predictive Controller for velocity control during descent

# Controller type
controllerType = MPC

# Linear model parameters: x(k+1) = A*x(k) + B*u(k)
# A: State transition coefficient (how much current state affects next state)
# B: Control effectiveness coefficient (how much control affects next state)
A = 0.98
B = -0.15

# MPC parameters
predictionHorizon = 5         # Number of time steps to predict ahead (reduced for speed)
Q = 10.0                      # State error weight (higher = track reference more aggressively)
R = 0.5                       # Control effort weight (higher = smoother control, less aggressive)

# Control constraints
outputMin = 0.0
outputMax = 1.0
controlRateLimit = 0.08       # Maximum control change per time step (0.08 = 8% per step)

# Model adaptation (online learning)
modelAdaptationRate = 0.0     # Disabled for better performance

# Controlled variable and reference
controlledVariable = vertical_velocity
referenceType = static
referenceValue = -10.0        # Target: 10 m/s downward velocity (more aggressive)

# Enable controller
enabled = true
