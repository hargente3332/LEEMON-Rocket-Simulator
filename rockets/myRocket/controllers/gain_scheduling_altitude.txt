# Gain Scheduling Controller for Air Brakes
# PID gains vary with altitude for better performance at different flight phases

controllerType = gainScheduling

# Scheduling Variable (what parameter determines the gains)
schedulingVariable = altitude

# Scheduling Points (altitude values in meters) - adjusted for 1000m target
schedulingPoints = 0, 400, 700, 900, 1000

# Kp Schedule (proportional gains at each altitude) - tuned for 1000m
KpSchedule = 0.1, 0.25, 0.4, 0.6, 0.8

# Ki Schedule (integral gains at each altitude)
KiSchedule = 0.02, 0.04, 0.08, 0.12, 0.15

# Kd Schedule (derivative gains at each altitude)
KdSchedule = 0.05, 0.1, 0.15, 0.25, 0.35

# Controlled Variable
controlledVariable = vertical_velocity

# Reference Signal - Breakpoint based (adjusted for 1000m apogee)
# Desired vertical velocity at different altitudes
referenceType = breakpoint
breakpointVariable = altitude
referenceKeys = 0, 400, 700, 900, 1000
referenceValues = -50, -20, -8, -2, 0

# Controller Settings
enabled = true
outputMin = 0.0
outputMax = 1.0
integralLimit = 1.0
